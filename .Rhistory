docData = data.frame(mon=c(1,2,1,2),yr=c(1991,1991,1992,1992),doc=c(1,2,2,4),date=c("1991/10/02","1991/11/01","1991/12/01","1992/01/01"))
docData
docData =xts(docData$doc, order.by = as.Date(as.character(docData$yr), format='%Y'))
docData
docData = data.frame(mon=c(1,2,1,2),yr=c(1991,1991,1992,1992),doc=c(1,2,2,4),date=c("1991/10/02","1991/11/01","1991/12/01","1992/01/01"))
docData =xts(docData$doc, order.by = as.Date(as.character(docData$yr), format='%Y'))
docData
m1.co2=arima(docData, order=c(0,1,1), seasonal = list(order=c(0,1,1), period=30))
m1.co2=arima(docData, order=c(0,1,1), seasonal = list(order=c(0,1,1), period=12))
banner_trend_agg["qli"]
trend.ts=ts(banner_trend_agg[["qli"]], start = c(2016,9),end = c(2018,8), frequency = 12)
trend.ts
m1.co2=arima(trend.ts, order=c(0,1,1), seasonal = list(order=c(0,1,1), period=12))
trend.ts=arima(trend.ts, order=c(0,1,1), seasonal = list(order=c(0,1,1), period=12))
predict(trend.ts, 1)
predict(trend.ts, 3)
help(train_test_split)
install.packages("remotes")
remotes::install_github("UBC-MDS/CrossR")
library(randomforest)
install.packages(randomForest)
install.packages("randomForest")
library(randomForest)
help("randomForest")
cluster1 <- data.frame(a=1:5, b=11:15, c=21:25, d=31:35)
cluster1
colMeans(cluster1)
df = read_csv("dataset\\SalesTrend.csv")
df = read.csv("dataset\\SalesTrend.csv")
head(df, 1)
library(sqldf)
trend = sqldf("select avg(REPORT_DATE)
,sum(QLI)
,avg(LAST_1_MONTH_AVG)
,avg(LAST_1_MONTH_MIN)
,avg(LAST_1_MONTH_MAX)
,avg(LAST_1_MONTH_SUM)
,avg(LAST_1_MONTH_MID)
,avg(LAST_1_MONTH_MID25)
,avg(LAST_1_MONTH_MID75)
,avg(LAST_2_MONTH_AVG)
,avg(LAST_2_MONTH_MIN)
,avg(LAST_2_MONTH_MAX)
,avg(LAST_2_MONTH_SUM)
,avg(LAST_2_MONTH_MID)
,avg(LAST_2_MONTH_MID25)
,avg(LAST_2_MONTH_MID75)
,avg(LAST_3_MONTH_AVG)
,avg(LAST_3_MONTH_MIN)
,avg(LAST_3_MONTH_MAX)
,avg(LAST_3_MONTH_SUM)
,avg(LAST_3_MONTH_MID)
,avg(LAST_3_MONTH_MID25)
,avg(LAST_3_MONTH_MID75)
,avg(LAST_4_MONTH_AVG)
,avg(LAST_4_MONTH_MIN)
,avg(LAST_4_MONTH_MAX)
,avg(LAST_4_MONTH_SUM)
,avg(LAST_4_MONTH_MID)
,avg(LAST_4_MONTH_MID25)
,avg(LAST_4_MONTH_MID75)
,avg(LAST_5_MONTH_AVG)
,avg(LAST_5_MONTH_MIN)
,avg(LAST_5_MONTH_MAX)
,avg(LAST_5_MONTH_SUM)
,avg(LAST_5_MONTH_MID)
,avg(LAST_5_MONTH_MID25)
,avg(LAST_5_MONTH_MID75)
,avg(LAST_6_MONTH_AVG)
,avg(LAST_6_MONTH_MIN)
,avg(LAST_6_MONTH_MAX)
,avg(LAST_6_MONTH_SUM)
,avg(LAST_6_MONTH_MID)
,avg(LAST_6_MONTH_MID25)
,avg(LAST_6_MONTH_MID75)
,avg(LAST_12_MONTH_AVG)
,avg(LAST_12_MONTH_MIN)
,avg(LAST_12_MONTH_MAX)
,avg(LAST_12_MONTH_SUM)
,avg(LAST_12_MONTH_MID)
,avg(LAST_12_MONTH_MID25)
,avg(LAST_12_MONTH_MID75)
from trend where BANNER_NAME='Carrefour' group by REPORT_DATE")
trend = sqldf("select avg(REPORT_DATE)
,sum(QLI)
,avg(LAST_1_MONTH_AVG)
,avg(LAST_1_MONTH_MIN)
,avg(LAST_1_MONTH_MAX)
,avg(LAST_1_MONTH_SUM)
,avg(LAST_1_MONTH_MID)
,avg(LAST_1_MONTH_MID25)
,avg(LAST_1_MONTH_MID75)
,avg(LAST_2_MONTH_AVG)
,avg(LAST_2_MONTH_MIN)
,avg(LAST_2_MONTH_MAX)
,avg(LAST_2_MONTH_SUM)
,avg(LAST_2_MONTH_MID)
,avg(LAST_2_MONTH_MID25)
,avg(LAST_2_MONTH_MID75)
,avg(LAST_3_MONTH_AVG)
,avg(LAST_3_MONTH_MIN)
,avg(LAST_3_MONTH_MAX)
,avg(LAST_3_MONTH_SUM)
,avg(LAST_3_MONTH_MID)
,avg(LAST_3_MONTH_MID25)
,avg(LAST_3_MONTH_MID75)
,avg(LAST_4_MONTH_AVG)
,avg(LAST_4_MONTH_MIN)
,avg(LAST_4_MONTH_MAX)
,avg(LAST_4_MONTH_SUM)
,avg(LAST_4_MONTH_MID)
,avg(LAST_4_MONTH_MID25)
,avg(LAST_4_MONTH_MID75)
,avg(LAST_5_MONTH_AVG)
,avg(LAST_5_MONTH_MIN)
,avg(LAST_5_MONTH_MAX)
,avg(LAST_5_MONTH_SUM)
,avg(LAST_5_MONTH_MID)
,avg(LAST_5_MONTH_MID25)
,avg(LAST_5_MONTH_MID75)
,avg(LAST_6_MONTH_AVG)
,avg(LAST_6_MONTH_MIN)
,avg(LAST_6_MONTH_MAX)
,avg(LAST_6_MONTH_SUM)
,avg(LAST_6_MONTH_MID)
,avg(LAST_6_MONTH_MID25)
,avg(LAST_6_MONTH_MID75)
,avg(LAST_12_MONTH_AVG)
,avg(LAST_12_MONTH_MIN)
,avg(LAST_12_MONTH_MAX)
,avg(LAST_12_MONTH_SUM)
,avg(LAST_12_MONTH_MID)
,avg(LAST_12_MONTH_MID25)
,avg(LAST_12_MONTH_MID75)
from trend where BANNER_NAME='Carrefour' group by REPORT_DATE")
trend = sqldf("select avg(REPORT_DATE)
,sum(QLI)
,avg(LAST_1_MONTH_AVG)
,avg(LAST_1_MONTH_MIN)
,avg(LAST_1_MONTH_MAX)
,avg(LAST_1_MONTH_SUM)
,avg(LAST_1_MONTH_MID)
,avg(LAST_1_MONTH_MID25)
,avg(LAST_1_MONTH_MID75)
,avg(LAST_2_MONTH_AVG)
,avg(LAST_2_MONTH_MIN)
,avg(LAST_2_MONTH_MAX)
,avg(LAST_2_MONTH_SUM)
,avg(LAST_2_MONTH_MID)
,avg(LAST_2_MONTH_MID25)
,avg(LAST_2_MONTH_MID75)
,avg(LAST_3_MONTH_AVG)
,avg(LAST_3_MONTH_MIN)
,avg(LAST_3_MONTH_MAX)
,avg(LAST_3_MONTH_SUM)
,avg(LAST_3_MONTH_MID)
,avg(LAST_3_MONTH_MID25)
,avg(LAST_3_MONTH_MID75)
,avg(LAST_4_MONTH_AVG)
,avg(LAST_4_MONTH_MIN)
,avg(LAST_4_MONTH_MAX)
,avg(LAST_4_MONTH_SUM)
,avg(LAST_4_MONTH_MID)
,avg(LAST_4_MONTH_MID25)
,avg(LAST_4_MONTH_MID75)
,avg(LAST_5_MONTH_AVG)
,avg(LAST_5_MONTH_MIN)
,avg(LAST_5_MONTH_MAX)
,avg(LAST_5_MONTH_SUM)
,avg(LAST_5_MONTH_MID)
,avg(LAST_5_MONTH_MID25)
,avg(LAST_5_MONTH_MID75)
,avg(LAST_6_MONTH_AVG)
,avg(LAST_6_MONTH_MIN)
,avg(LAST_6_MONTH_MAX)
,avg(LAST_6_MONTH_SUM)
,avg(LAST_6_MONTH_MID)
,avg(LAST_6_MONTH_MID25)
,avg(LAST_6_MONTH_MID75)
,avg(LAST_12_MONTH_AVG)
,avg(LAST_12_MONTH_MIN)
,avg(LAST_12_MONTH_MAX)
,avg(LAST_12_MONTH_SUM)
,avg(LAST_12_MONTH_MID)
,avg(LAST_12_MONTH_MID25)
,avg(LAST_12_MONTH_MID75)
from trend where BANNER_NAME='Carrefour' group by REPORT_DATE")
head(df, 1)
trend = sqldf("select sum(QLI)
,avg(LAST_1_MONTH_AVG)
,avg(LAST_1_MONTH_MIN)
,avg(LAST_1_MONTH_MAX)
,avg(LAST_1_MONTH_SUM)
,avg(LAST_1_MONTH_MID)
,avg(LAST_1_MONTH_MID25)
,avg(LAST_1_MONTH_MID75)
,avg(LAST_2_MONTH_AVG)
,avg(LAST_2_MONTH_MIN)
,avg(LAST_2_MONTH_MAX)
,avg(LAST_2_MONTH_SUM)
,avg(LAST_2_MONTH_MID)
,avg(LAST_2_MONTH_MID25)
,avg(LAST_2_MONTH_MID75)
,avg(LAST_3_MONTH_AVG)
,avg(LAST_3_MONTH_MIN)
,avg(LAST_3_MONTH_MAX)
,avg(LAST_3_MONTH_SUM)
,avg(LAST_3_MONTH_MID)
,avg(LAST_3_MONTH_MID25)
,avg(LAST_3_MONTH_MID75)
,avg(LAST_4_MONTH_AVG)
,avg(LAST_4_MONTH_MIN)
,avg(LAST_4_MONTH_MAX)
,avg(LAST_4_MONTH_SUM)
,avg(LAST_4_MONTH_MID)
,avg(LAST_4_MONTH_MID25)
,avg(LAST_4_MONTH_MID75)
,avg(LAST_5_MONTH_AVG)
,avg(LAST_5_MONTH_MIN)
,avg(LAST_5_MONTH_MAX)
,avg(LAST_5_MONTH_SUM)
,avg(LAST_5_MONTH_MID)
,avg(LAST_5_MONTH_MID25)
,avg(LAST_5_MONTH_MID75)
,avg(LAST_6_MONTH_AVG)
,avg(LAST_6_MONTH_MIN)
,avg(LAST_6_MONTH_MAX)
,avg(LAST_6_MONTH_SUM)
,avg(LAST_6_MONTH_MID)
,avg(LAST_6_MONTH_MID25)
,avg(LAST_6_MONTH_MID75)
,avg(LAST_12_MONTH_AVG)
,avg(LAST_12_MONTH_MIN)
,avg(LAST_12_MONTH_MAX)
,avg(LAST_12_MONTH_SUM)
,avg(LAST_12_MONTH_MID)
,avg(LAST_12_MONTH_MID25)
,avg(LAST_12_MONTH_MID75)
from trend where BANNER_NAME='Carrefour' group by REPORT_DATE")
trend = sqldf("select sum(QLI)
,avg(LAST_1_MONTH_AVG)
,avg(LAST_1_MONTH_MIN)
,avg(LAST_1_MONTH_MAX)
,avg(LAST_1_MONTH_SUM)
,avg(LAST_1_MONTH_MID)
,avg(LAST_1_MONTH_MID25)
,avg(LAST_1_MONTH_MID75)
,avg(LAST_2_MONTH_AVG)
,avg(LAST_2_MONTH_MIN)
,avg(LAST_2_MONTH_MAX)
,avg(LAST_2_MONTH_SUM)
,avg(LAST_2_MONTH_MID)
,avg(LAST_2_MONTH_MID25)
,avg(LAST_2_MONTH_MID75)
,avg(LAST_3_MONTH_AVG)
,avg(LAST_3_MONTH_MIN)
,avg(LAST_3_MONTH_MAX)
,avg(LAST_3_MONTH_SUM)
,avg(LAST_3_MONTH_MID)
,avg(LAST_3_MONTH_MID25)
,avg(LAST_3_MONTH_MID75)
,avg(LAST_4_MONTH_AVG)
,avg(LAST_4_MONTH_MIN)
,avg(LAST_4_MONTH_MAX)
,avg(LAST_4_MONTH_SUM)
,avg(LAST_4_MONTH_MID)
,avg(LAST_4_MONTH_MID25)
,avg(LAST_4_MONTH_MID75)
,avg(LAST_5_MONTH_AVG)
,avg(LAST_5_MONTH_MIN)
,avg(LAST_5_MONTH_MAX)
,avg(LAST_5_MONTH_SUM)
,avg(LAST_5_MONTH_MID)
,avg(LAST_5_MONTH_MID25)
,avg(LAST_5_MONTH_MID75)
,avg(LAST_6_MONTH_AVG)
,avg(LAST_6_MONTH_MIN)
,avg(LAST_6_MONTH_MAX)
,avg(LAST_6_MONTH_SUM)
,avg(LAST_6_MONTH_MID)
,avg(LAST_6_MONTH_MID25)
,avg(LAST_6_MONTH_MID75)
,avg(LAST_12_MONTH_AVG)
,avg(LAST_12_MONTH_MIN)
,avg(LAST_12_MONTH_MAX)
,avg(LAST_12_MONTH_SUM)
,avg(LAST_12_MONTH_MID)
,avg(LAST_12_MONTH_MID25)
,avg(LAST_12_MONTH_MID75)
from df where BANNER_NAME='Carrefour' group by REPORT_DATE")
trend = sqldf("select sum(QLI)
,avg(LAST_1_MONTH_AVG) as LAST_1_MONTH_AVG
,avg(LAST_1_MONTH_MIN) as LAST_1_MONTH_MIN
,avg(LAST_1_MONTH_MAX) as LAST_1_MONTH_MAX
,avg(LAST_1_MONTH_SUM) as LAST_1_MONTH_SUM
,avg(LAST_1_MONTH_MID) as LAST_1_MONTH_MID
,avg(LAST_1_MONTH_MID25) as LAST_1_MONTH_MID25
,avg(LAST_1_MONTH_MID75) as LAST_1_MONTH_MID75
,avg(LAST_2_MONTH_AVG) as LAST_2_MONTH_AVG
,avg(LAST_2_MONTH_MIN) as LAST_2_MONTH_MIN
,avg(LAST_2_MONTH_MAX) as LAST_2_MONTH_MAX
,avg(LAST_2_MONTH_SUM) as LAST_2_MONTH_SUM
,avg(LAST_2_MONTH_MID) as LAST_2_MONTH_MID
,avg(LAST_2_MONTH_MID25) as LAST_2_MONTH_MID25
,avg(LAST_2_MONTH_MID75) as LAST_2_MONTH_MID75
,avg(LAST_3_MONTH_AVG) as LAST_3_MONTH_AVG
,avg(LAST_3_MONTH_MIN) as LAST_3_MONTH_MIN
,avg(LAST_3_MONTH_MAX) as LAST_3_MONTH_MAX
,avg(LAST_3_MONTH_SUM) as LAST_3_MONTH_SUM
,avg(LAST_3_MONTH_MID) as LAST_3_MONTH_MID
,avg(LAST_3_MONTH_MID25) as LAST_3_MONTH_MID25
,avg(LAST_3_MONTH_MID75) as LAST_3_MONTH_MID75
,avg(LAST_4_MONTH_AVG) as LAST_4_MONTH_AVG
,avg(LAST_4_MONTH_MIN) as LAST_4_MONTH_MIN
,avg(LAST_4_MONTH_MAX) as LAST_4_MONTH_MAX
,avg(LAST_4_MONTH_SUM) as LAST_4_MONTH_SUM
,avg(LAST_4_MONTH_MID) as LAST_4_MONTH_MID
,avg(LAST_4_MONTH_MID25) as LAST_4_MONTH_MID25
,avg(LAST_4_MONTH_MID75) as LAST_4_MONTH_MID75
,avg(LAST_5_MONTH_AVG) as LAST_5_MONTH_AVG
,avg(LAST_5_MONTH_MIN) as LAST_5_MONTH_MIN
,avg(LAST_5_MONTH_MAX) as LAST_5_MONTH_MAX
,avg(LAST_5_MONTH_SUM) as LAST_5_MONTH_SUM
,avg(LAST_5_MONTH_MID) as LAST_5_MONTH_MID
,avg(LAST_5_MONTH_MID25) as LAST_5_MONTH_MID25
,avg(LAST_5_MONTH_MID75) as LAST_5_MONTH_MID75
,avg(LAST_6_MONTH_AVG) as LAST_6_MONTH_AVG
,avg(LAST_6_MONTH_MIN) as LAST_6_MONTH_MIN
,avg(LAST_6_MONTH_MAX) as LAST_6_MONTH_MAX
,avg(LAST_6_MONTH_SUM) as LAST_6_MONTH_SUM
,avg(LAST_6_MONTH_MID) as LAST_6_MONTH_MID
,avg(LAST_6_MONTH_MID25) as LAST_6_MONTH_MID25
,avg(LAST_6_MONTH_MID75) as LAST_6_MONTH_MID75
,avg(LAST_12_MONTH_AVG) as LAST_12_MONTH_AVG
,avg(LAST_12_MONTH_MIN) as LAST_12_MONTH_MIN
,avg(LAST_12_MONTH_MAX) as LAST_12_MONTH_MAX
,avg(LAST_12_MONTH_SUM) as LAST_12_MONTH_SUM
,avg(LAST_12_MONTH_MID) as LAST_12_MONTH_MID
,avg(LAST_12_MONTH_MID25) as LAST_12_MONTH_MID25
,avg(LAST_12_MONTH_MID75) as LAST_12_MONTH_MID75
from df where BANNER_NAME='Carrefour' group by REPORT_DATE")
trend
trend = sqldf("select REPORT_DATE, sum(QLI)
,avg(LAST_1_MONTH_AVG) as LAST_1_MONTH_AVG
,avg(LAST_1_MONTH_MIN) as LAST_1_MONTH_MIN
,avg(LAST_1_MONTH_MAX) as LAST_1_MONTH_MAX
,avg(LAST_1_MONTH_SUM) as LAST_1_MONTH_SUM
,avg(LAST_1_MONTH_MID) as LAST_1_MONTH_MID
,avg(LAST_1_MONTH_MID25) as LAST_1_MONTH_MID25
,avg(LAST_1_MONTH_MID75) as LAST_1_MONTH_MID75
,avg(LAST_2_MONTH_AVG) as LAST_2_MONTH_AVG
,avg(LAST_2_MONTH_MIN) as LAST_2_MONTH_MIN
,avg(LAST_2_MONTH_MAX) as LAST_2_MONTH_MAX
,avg(LAST_2_MONTH_SUM) as LAST_2_MONTH_SUM
,avg(LAST_2_MONTH_MID) as LAST_2_MONTH_MID
,avg(LAST_2_MONTH_MID25) as LAST_2_MONTH_MID25
,avg(LAST_2_MONTH_MID75) as LAST_2_MONTH_MID75
,avg(LAST_3_MONTH_AVG) as LAST_3_MONTH_AVG
,avg(LAST_3_MONTH_MIN) as LAST_3_MONTH_MIN
,avg(LAST_3_MONTH_MAX) as LAST_3_MONTH_MAX
,avg(LAST_3_MONTH_SUM) as LAST_3_MONTH_SUM
,avg(LAST_3_MONTH_MID) as LAST_3_MONTH_MID
,avg(LAST_3_MONTH_MID25) as LAST_3_MONTH_MID25
,avg(LAST_3_MONTH_MID75) as LAST_3_MONTH_MID75
,avg(LAST_4_MONTH_AVG) as LAST_4_MONTH_AVG
,avg(LAST_4_MONTH_MIN) as LAST_4_MONTH_MIN
,avg(LAST_4_MONTH_MAX) as LAST_4_MONTH_MAX
,avg(LAST_4_MONTH_SUM) as LAST_4_MONTH_SUM
,avg(LAST_4_MONTH_MID) as LAST_4_MONTH_MID
,avg(LAST_4_MONTH_MID25) as LAST_4_MONTH_MID25
,avg(LAST_4_MONTH_MID75) as LAST_4_MONTH_MID75
,avg(LAST_5_MONTH_AVG) as LAST_5_MONTH_AVG
,avg(LAST_5_MONTH_MIN) as LAST_5_MONTH_MIN
,avg(LAST_5_MONTH_MAX) as LAST_5_MONTH_MAX
,avg(LAST_5_MONTH_SUM) as LAST_5_MONTH_SUM
,avg(LAST_5_MONTH_MID) as LAST_5_MONTH_MID
,avg(LAST_5_MONTH_MID25) as LAST_5_MONTH_MID25
,avg(LAST_5_MONTH_MID75) as LAST_5_MONTH_MID75
,avg(LAST_6_MONTH_AVG) as LAST_6_MONTH_AVG
,avg(LAST_6_MONTH_MIN) as LAST_6_MONTH_MIN
,avg(LAST_6_MONTH_MAX) as LAST_6_MONTH_MAX
,avg(LAST_6_MONTH_SUM) as LAST_6_MONTH_SUM
,avg(LAST_6_MONTH_MID) as LAST_6_MONTH_MID
,avg(LAST_6_MONTH_MID25) as LAST_6_MONTH_MID25
,avg(LAST_6_MONTH_MID75) as LAST_6_MONTH_MID75
,avg(LAST_12_MONTH_AVG) as LAST_12_MONTH_AVG
,avg(LAST_12_MONTH_MIN) as LAST_12_MONTH_MIN
,avg(LAST_12_MONTH_MAX) as LAST_12_MONTH_MAX
,avg(LAST_12_MONTH_SUM) as LAST_12_MONTH_SUM
,avg(LAST_12_MONTH_MID) as LAST_12_MONTH_MID
,avg(LAST_12_MONTH_MID25) as LAST_12_MONTH_MID25
,avg(LAST_12_MONTH_MID75) as LAST_12_MONTH_MID75
from df where BANNER_NAME='Carrefour' group by REPORT_DATE")
trend
df_banner = read.csv("dataset\\banner_group.csv")
df_banner = read.csv("dataset\\banner_group.csv")
df_banner = read.csv("dataset\\banner_group.csv")
df_banner_group = read.csv("dataset\\banner_group.csv")
df_trend = merge(df_trend, df_banner_group, by="REPORT_DATE")
banner_group = read.csv("dataset\\banner_group.csv")
df_trend = merge(trend, banner_group, by="REPORT_DATE")
head(df, 3)
head(df_trend, 3)
head(banner_group)
banner_group=banner_group_raw[-2]
head(banner_group)
banner_group_raw = read.csv("dataset\\banner_group.csv")
banner_group=banner_group_raw[-2]
head(banner_group)
df_trend = merge(trend, banner_group, by="REPORT_DATE")
head(df_trend, 3)
trend = sqldf("select REPORT_DATE, sum(QLI) as QLI
,avg(LAST_1_MONTH_AVG) as LAST_1_MONTH_AVG
,avg(LAST_1_MONTH_MIN) as LAST_1_MONTH_MIN
,avg(LAST_1_MONTH_MAX) as LAST_1_MONTH_MAX
,avg(LAST_1_MONTH_SUM) as LAST_1_MONTH_SUM
,avg(LAST_1_MONTH_MID) as LAST_1_MONTH_MID
,avg(LAST_1_MONTH_MID25) as LAST_1_MONTH_MID25
,avg(LAST_1_MONTH_MID75) as LAST_1_MONTH_MID75
,avg(LAST_2_MONTH_AVG) as LAST_2_MONTH_AVG
,avg(LAST_2_MONTH_MIN) as LAST_2_MONTH_MIN
,avg(LAST_2_MONTH_MAX) as LAST_2_MONTH_MAX
,avg(LAST_2_MONTH_SUM) as LAST_2_MONTH_SUM
,avg(LAST_2_MONTH_MID) as LAST_2_MONTH_MID
,avg(LAST_2_MONTH_MID25) as LAST_2_MONTH_MID25
,avg(LAST_2_MONTH_MID75) as LAST_2_MONTH_MID75
,avg(LAST_3_MONTH_AVG) as LAST_3_MONTH_AVG
,avg(LAST_3_MONTH_MIN) as LAST_3_MONTH_MIN
,avg(LAST_3_MONTH_MAX) as LAST_3_MONTH_MAX
,avg(LAST_3_MONTH_SUM) as LAST_3_MONTH_SUM
,avg(LAST_3_MONTH_MID) as LAST_3_MONTH_MID
,avg(LAST_3_MONTH_MID25) as LAST_3_MONTH_MID25
,avg(LAST_3_MONTH_MID75) as LAST_3_MONTH_MID75
,avg(LAST_4_MONTH_AVG) as LAST_4_MONTH_AVG
,avg(LAST_4_MONTH_MIN) as LAST_4_MONTH_MIN
,avg(LAST_4_MONTH_MAX) as LAST_4_MONTH_MAX
,avg(LAST_4_MONTH_SUM) as LAST_4_MONTH_SUM
,avg(LAST_4_MONTH_MID) as LAST_4_MONTH_MID
,avg(LAST_4_MONTH_MID25) as LAST_4_MONTH_MID25
,avg(LAST_4_MONTH_MID75) as LAST_4_MONTH_MID75
,avg(LAST_5_MONTH_AVG) as LAST_5_MONTH_AVG
,avg(LAST_5_MONTH_MIN) as LAST_5_MONTH_MIN
,avg(LAST_5_MONTH_MAX) as LAST_5_MONTH_MAX
,avg(LAST_5_MONTH_SUM) as LAST_5_MONTH_SUM
,avg(LAST_5_MONTH_MID) as LAST_5_MONTH_MID
,avg(LAST_5_MONTH_MID25) as LAST_5_MONTH_MID25
,avg(LAST_5_MONTH_MID75) as LAST_5_MONTH_MID75
,avg(LAST_6_MONTH_AVG) as LAST_6_MONTH_AVG
,avg(LAST_6_MONTH_MIN) as LAST_6_MONTH_MIN
,avg(LAST_6_MONTH_MAX) as LAST_6_MONTH_MAX
,avg(LAST_6_MONTH_SUM) as LAST_6_MONTH_SUM
,avg(LAST_6_MONTH_MID) as LAST_6_MONTH_MID
,avg(LAST_6_MONTH_MID25) as LAST_6_MONTH_MID25
,avg(LAST_6_MONTH_MID75) as LAST_6_MONTH_MID75
,avg(LAST_12_MONTH_AVG) as LAST_12_MONTH_AVG
,avg(LAST_12_MONTH_MIN) as LAST_12_MONTH_MIN
,avg(LAST_12_MONTH_MAX) as LAST_12_MONTH_MAX
,avg(LAST_12_MONTH_SUM) as LAST_12_MONTH_SUM
,avg(LAST_12_MONTH_MID) as LAST_12_MONTH_MID
,avg(LAST_12_MONTH_MID25) as LAST_12_MONTH_MID25
,avg(LAST_12_MONTH_MID75) as LAST_12_MONTH_MID75
from df where BANNER_NAME='Carrefour' group by REPORT_DATE")
banner_group_raw = read.csv("dataset\\banner_group.csv")
banner_group=banner_group_raw[-2]
head(banner_group)
df_trend = merge(trend, banner_group, by="REPORT_DATE")
head(df_trend, 3)
y = df_trend["QLI"]
y
y = df_trend[["QLI"]]
y
head(banner_group)
head(df_trend, 3)
X = df_trend[-2]
X
help(train_test_split)
splitSet = train_test_split(X, y, test_size=0.2)
library(CrossR)
splitSet = train_test_split(X, y, test_size=0.2)
X_train = splitSet$X_train
y_train = splitSet$y_train
X_test = splitSet$X_test
y_test = splitSet$y_test
rf = randomForest(X_train, y_train, X_test, y_test)
data("iris")
iris
head(iris,1)
rf = randomForest(X_train, y_train, X_test, y_test)
head(X_train, 1)
df_trend["REPORT_DATE"]
library(caret)
install.packages(caret)
install.packages("caret")
library(caret)
help(createDataPartition)
trainIndex = createDataPartition(df_trend$QLI,
p=0.8, list=FALSE,times=1)
train = df_trend[trainIndex,]
test = df_trend[-trainIndex,]
train["REPORT_DATE"]
rf = randomForest(train$QLI~.)
rf = randomForest(train$QLI~., data=train)
data(airquality)
set.seed(131)
ozone.rf <- randomForest(Ozone ~ ., data=airquality, mtry=3,
importance=TRUE, na.action=na.omit)
print(ozone.rf)
airquality
head(airquality,5)
rf = randomForest(QLI~., data=train)
rf = randomForest(QLI~., data=train,mtry=3,
importance=TRUE, na.action=na.omit)
